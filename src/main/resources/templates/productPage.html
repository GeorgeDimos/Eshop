<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="headers :: common_header(~{::title})">
    <title th:text="${product.name}"></title>
</head>

<body>
<div th:insert="navbar.html"></div>
<div class="container">
    <div class="row">
        <div class="col-8">
            <div th:if="${!product.images.empty}" id="carouselExampleControls" class="carousel slide"
                 data-ride="carousel">
                <div th:id="right" class="carousel-inner embed-responsive embed-responsive-16by9">
                    <div th:each="image : ${product.images}"
                         th:class="'embed-responsive-item carousel-item' + ${imageStat.index!=0 ? '':' active'}">
                        <img class="img-fluid d-block w-100 embed-responsive-item " th:src="'/images/'+${image.id}"
                             th:alt="${image.name}"/>
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
        <div class="col">
            <h3 th:text="${product.name}"></h3>
            <p th:text="'Price: '+${product.price}+â‚¬"></p>
            <form method="POST" th:action="'/products/'+${product.id}">
                <label>
                    <input type="number" name="quantity" value="1" min="1" th:max="${product.stock}"/>
                </label>
                <input type="submit" value="Add to Cart"/>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <h2>Description</h2>
            <p th:text="${product.description}"></p>
        </div>
    </div>
</div>
</body>

</html>