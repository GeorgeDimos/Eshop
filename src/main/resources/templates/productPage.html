<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/headers :: common_header(~{::title})">
    <title th:text="${product.name}"></title>
</head>

<body>
<div th:insert="fragments/navbar.html"></div>
<div class="container">
    <div class="row">
        <div class="col-8">
            <div class="carousel slide" data-ride="carousel" id="carouselExampleControls"
                 th:if="${!product.images.empty}">
                <div class="carousel-inner embed-responsive embed-responsive-16by9" th:id="right">
                    <div th:class="'embed-responsive-item carousel-item' + ${imageStat.index!=0 ? '':' active'}"
                         th:each="image : ${product.images}">
                        <img class="img-fluid d-block w-100 embed-responsive-item " th:alt="${image.name}"
                             th:src="'/images/'+${image.id}"/>
                    </div>
                </div>
                <a class="carousel-control-prev" data-slide="prev" href="#carouselExampleControls" role="button">
                    <span aria-hidden="true" class="carousel-control-prev-icon"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" data-slide="next" href="#carouselExampleControls" role="button">
                    <span aria-hidden="true" class="carousel-control-next-icon"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
        <div class="col">
            <h3 th:text="${product.name}"></h3>
            <p th:text="'Price: '+${product.price}+â‚¬"></p>
            <form method="POST" th:action="'/products/'+${product.id}">
                <label>
                    <input min="1" name="quantity" th:max="${product.stock}" type="number" value="1"/>
                </label>
                <input type="submit" value="Add to Cart"/>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <h2>Description</h2>
            <p th:text="${product.description}"></p>
        </div>
    </div>
</div>
</body>

</html>